<!DOCTYPE html>
<!-- saved from url=(0040)https://ead.ctyun.cn/tyy/gjty/index.html -->
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<meta name="viewport" content="width=device-width,maximum-scale=1,user-scalable=no">
	<meta name="format-detection" content="telephone=no">
	<title>index</title>
</head>

<body>
	<a id="a-upon">
		<input type="file" id="inputImage" accept="image/gif, image/jpeg, image/png, image/jpg">点击这里上传
	</a>
	<img id="showImage">

	<script type="text/javascript" src="./static/jquery-3.5.1.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function () {
			// var img = document.createElement("img");
            // img.onload = function(e) {
            //   window.URL.revokeObjectURL(img.src); // 清除释放
            // };
            // img.src = window.URL.createObjectURL('https://www.ctyun.cn/s/q04sv38ZSzTBF4mEHo+3dVsyWITNHb2AHhoKmmcfMQvFLURsx3V4aR4ZrNV9JFLklGsNkgABAoOM8Bfj/NNjgbb7oXKiYU8Kz6aSf120z7WfenqFbQrZI/SuAaTJ+utIUs9kWS+8PCf7s88y93Rmn+zPNV2jM5Xoq4cB3fglDGo=');
            // eleAppend.appendChild(img);
			var img = './static/blob'
			console.log(img)
			blobToBase64(img)
		})
		$("#inputImage").change(function () {
        var objUrl = $(this)[0].files[0];
        var reader = new FileReader();//新建一个FileReader
        reader.readAsDataURL(objUrl);//读取文件,保存为base64 格式
        reader.onload = function (evt) { //读取完文件之后会回来这里
            imageString = evt.target.result;
            //获得一个http格式的url路径:mozilla(firefox)||webkit or chrome
            var windowURL = window.URL || window.webkitURL;
            //createObjectURL创建一个指向该参数对象(图片)的URL
            var dataURL = windowURL.createObjectURL(objUrl);
			console.log(dataURL)
			blobToDataURL(dataURL)
            $("#showImage").attr("src", dataURL );
        }
    });
	function blobToDataURL(blob) {
        var a = new FileReader();
         a.readAsDataURL(blob);//读取文件保存在result中
        a.onload = function (e) {
        	var getRes = e.target.result;//读取的结果在result中
			console.log(getRes)
        }

    }
		
		
		
		
		
		
		</script>


</body>

</html>